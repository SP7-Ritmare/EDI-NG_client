<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta charset="utf-8">
    <title>GET_IT EDI</title>
    <link rel="stylesheet" href="css/assets.css">
    <link rel="stylesheet" href="css/ol.css">

</head>
<body>
<div class="content-wrap">
    <div id="ediml">
    </div>
    <div class="container">
        <h1>EDI <span id="template-version"></span></h1>
        <script> var elements = []; </script>
        <div class="row">
            <div class="tabbable tabs-left">
                <ul id="myTab" class="nav nav-tabs">
                    <div class="bottoniera">
                        <button class="btn btn-primary" onclick="edi.setLanguage('it');">it</button>
                        <button class="btn btn-primary" onclick="edi.setLanguage('en');">en</button>
                        <br>
                        <!--button class="btn btn-danger debug" onclick="toggleEDIML(this);">show EDIML</button>
                        <br-->
                        <button class="btn btn-danger" onclick="ediml.saveAs('pippo');">save locally</button>
                        <br>
                        <button class="btn btn-danger" onclick="ediml.load('pippo');">load last version</button>
                        <br>
                        <!--button class="btn btn-danger" style="display: none;" id="EDIMLDownload"
                                onclick="ediml.downloadEDIML();">download EDIML
                        </button>
                        <br-->
                        <button class="btn btn-danger" style="display: none;" id="MDDownload"
                                onclick="ediml.downloadMetadata();">download generated XML
                        </button>
                        <br>
                        <button class="btn btn-primary" id="sendMetadata">send metadata</button>
                        <input type="checkbox" value="0" id="ignoreWarnings">ignore warnings
                    </div>
                </ul>
                <article class="span8" id="mdcontent">
                    <div id="theForm">
                        <div class="tab-content">

                        </div>
                    </div>
                </article>
            </div>
        </div>
    </div>
    <div id="debug">
    </div>
</div>
<script src="js/renderers/web-components/float-slider.js"></script>
<script src="js/defaults.js"></script>
<script src="js/localised_strings.js"></script>
<script src="js/validator.js"></script>
<script src="js/jquery.js"></script>
<script src="js/logger.js"></script>
<script src="js/jquery-ui.js"></script>
<script src="js/utils.js"></script>
<script src="js/datasources/sparql-endpoint-adapter.js"></script>
<script src="js/datasources/sparql.js"></script>
<script src="js/datasources/endpointtype.js"></script>
<script src="js/datasources/datasource_adapters.js"></script>
<script src="js/datasources/datasource.js"></script>
<script src="js/datasources/datasourcepool.js"></script>
<script src="js/item.js"></script>
<script src="js/element.js"></script>
<script src="js/ediml.js"></script>
<script src="js/edi.js"></script>
<script src="js/xml2json.js"></script>
<script src="js/typeahead.jquery.js"></script>
<script src="js/renderers/generic.js"></script>
<script src="js/renderers/autocompletion.js"></script>
<script src="js/renderers/combobox.js"></script>
<script src="js/renderers/boolean.js"></script>
<script src="js/renderers/function.js"></script>
<script src="js/renderers/date.js"></script>
<script src="js/renderers/date_range.js"></script>
<script src="js/renderers/label.js"></script>
<script src="js/renderers/textbox.js"></script>
<script src="js/renderers/bounding_box.js"></script>
<script src="js/renderers/sliderfloat.js"></script>
<script src="js/jquery-dateFormat.js"></script>
<script src="js/jquery.string.1.1.0.js"></script>
<script src="js/bootstrap.js"></script>
<script src="js/bootstrap-datepicker.js"></script>
<script src="js/langs.js"></script>
<script src="js/ol-debug.js"></script>
<script src="js/ol.js"></script>

<script>
    function onTemplateLoaded(data) {
        console.log("fatto");
    }

    $(document).ready(function () {
        edi.loadLocalTemplate("test", "3", onTemplateLoaded);

        $("#ediml").hide();
        $("#sendMetadata").click(ediml.post);

    });

    function allowDrop(ev) {
        ev.preventDefault();
    }

    function drag(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
    }

    function drop(ev) {
        ev.preventDefault();
        var data = ev.dataTransfer.getData("text");
        ev.target.appendChild(document.getElementById(data));
    }

    function toggleEDIML(which) {
        $('#ediml').toggle();
        if ($("#ediml").is(":visible")) {
            $(which).text("hide EDIML");
            edi.edimlOutput();
        } else {
            $(which).text("show EDIML");
        }
    }
</script>

</body>
</html>
